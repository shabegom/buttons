---
title: Replace Mutation
permalink: /usage/mutations/replace.html
eleventyNavigation:
  order: 10
  key: replace
  parent: mutations
  title: "Replace Mutations"
---

**Replace mutations** let you remove specific lines from your note when a button is clicked. This is perfect for updating dynamic content, replacing outdated information, or clearing sections that will be regenerated by templates.

## Basic Replace Functionality

Replace mutations support both **absolute** and **relative** line positioning, giving you flexibility in how you target content for removal.

### Absolute Line Positioning
Use `replace [startLine, endLine]` to remove specific line numbers:

<pre>
Status: Unknown
Progress: 0%

```button
name Update Status  
type line(1) text
action Status: Complete
replace [1,2]
```
^button-update-status
</pre>

This will:
1. Remove lines 1-2 ("Status: Unknown" and "Progress: 0%")
2. Insert "Status: Complete" at line 1

### Relative Line Positioning
Use `replace [+N, +M]` or `replace [-N, -M]` to remove lines relative to the button's position:

<pre>
Current Status: Unknown
Progress: 0%  
Notes: Pending

```button
name Update Status (Relative)
type line(+1) text
action Current Status: Complete
Progress: 100%
Notes: Finished
replace [+1, +3]
```
^button-relative-replace
</pre>

This will:
1. Remove 3 lines starting 1 line **after** the button (the content above)
2. Insert the new status information at that position

**Relative positioning benefits:**
- Buttons work regardless of their position in the file
- Templates remain portable when moved around
- Perfect for maintaining content relative to button placement

### Mixed Positioning
You can even mix absolute and relative positioning:

<pre>
```button
name Update Section
type line(10) text  
action New content at line 10
replace [+1, 15]
```
</pre>

This removes from 1 line after the button to absolute line 15.

### Cursor-Based Positioning
Use `replace [cursor]` to remove the line at the current cursor position:

<pre>
Line 1: Keep this line
Line 2: This line will be removed when cursor is here
Line 3: Keep this line

```button
name Remove Line at Cursor
type append text
action Content updated!
replace [cursor]
```
^button-cursor-remove
</pre>

**How cursor positioning works:**
- Place your cursor anywhere on the line you want to remove
- When the button is clicked, it will remove the line where your cursor is positioned
- Perfect for interactive editing where you want to target specific lines dynamically
- Works regardless of where the button is located in the document

**Cursor positioning benefits:**
- Interactive content removal based on cursor position
- No need to count line numbers manually
- Ideal for ad-hoc editing workflows
- Perfect for removing specific lines without knowing their exact position

## Replace with Template Buttons

### Update Weather Section (Absolute)
<pre>
## Weather
Current: Unknown
Forecast: Unknown
Last Updated: Never

```button
name Update Weather (Absolute)
type prepend template
action Weather Template
replace [2,4]
```
^button-weather-absolute
</pre>

This replaces the weather data (lines 2-4) with fresh content from the Weather Template.

### Update Weather Section (Relative)
<pre>
## Weather
Current: Unknown
Forecast: Unknown
Last Updated: Never

```button
name Update Weather (Relative)
type line(+1) template
action Weather Template
replace [+1,+3]
```
^button-weather-relative
</pre>

This replaces the 3 lines after the button with fresh weather content. This approach works regardless of where the weather section appears in your document.

## Replace with Text Buttons

### Update Status Line
<pre>
Project Status: Planning

```button
name Mark In Progress
type line(1) text
action Project Status: In Progress
replace [1,1]
```
^button-in-progress
</pre>

### Replace Task List
<pre>
## Today's Tasks
- [ ] Old task 1
- [ ] Old task 2  
- [ ] Old task 3

```button
name New Task List
type append text
action ## Today's Tasks
- [ ] Review emails
- [ ] Team meeting
- [ ] Code review
replace [2,4]
```
^button-new-tasks
</pre>

## Dynamic Replace with [Templater](/usage/templater)

### Update Timestamp Section
<pre>
Last Modified: Never
Current Time: Unknown

```button
name Update Timestamp
type line(1) text
action Last Modified: <% tp.date.now("YYYY-MM-DD HH:mm") %>
replace [1,2]
templater true
```
^button-timestamp
</pre>

### Replace Daily Planning
<pre>
# Daily Plan - Date
## Goals
- TBD

## Schedule  
- TBD

```button
name Generate Today's Plan
type prepend text
action # Daily Plan - <% tp.date.now("YYYY-MM-DD") %>
## Goals
- [ ] Complete project milestone
- [ ] Review team feedback

## Schedule
- 09:00 Team standup
- 10:30 Deep work session
- 14:00 Client meeting

replace [1,6]
templater true
```
^button-daily-plan
</pre>

## Replace with Chain Buttons

Combine replace functionality with [Chain Buttons](/usage/types/chain):

<pre>
## Dashboard
Status: Loading...
Last Update: Never
Notes: None

```button
name Refresh Dashboard (Absolute)
type chain
actions [
  {"type": "line(2) text", "action": "Status: Updated ✅"},
  {"type": "line(3) text", "action": "Last Update: <% tp.date.now('HH:mm') %>"},
  {"type": "line(4) text", "action": "Notes: Dashboard refreshed"}
]
replace [2,4]
templater true
```
^button-refresh-absolute

```button
name Refresh Dashboard (Relative)
type chain
actions [
  {"type": "line(+1) text", "action": "Status: Updated ✅"},
  {"type": "line(+2) text", "action": "Last Update: <% tp.date.now('HH:mm') %>"},
  {"type": "line(+3) text", "action": "Notes: Dashboard refreshed"}
]
replace [+1,+3]
templater true
```
^button-refresh-relative
</pre>

## Replace Line Counting

### Absolute Line Numbers
- Lines are counted from the top of the note starting with 1
- Empty lines count as lines
- The line containing the button codeblock and its ID count as lines
- Headers, bullet points, and all text count as individual lines

### Relative Line Numbers
- `+N` counts N lines **after** the button's closing ```
- `-N` counts N lines **before** the button's opening ```
- Relative positioning is calculated from the button's position, not from the file top
- Perfect for portable templates that work anywhere in the document

### Example with Line Numbers
<pre>
1  # My Note
2  
3  Status: Unknown        ← Line 3
4  Progress: 0%          ← Line 4  
5  Last Check: Never     ← Line 5
6
7  ```button
8  name Update All
9  type prepend text
10 action Status: Complete
11 Progress: 100%
12 Last Check: <% tp.date.now() %>
13 replace [3,5]
14 templater true
15 ```
16 ^button-update
</pre>

## Replace Best Practices

### Choosing Between Absolute and Relative Positioning

**Use Absolute Positioning (`replace [5,10]`) when:**
- You need to target specific, fixed locations in your document
- The content structure is stable and won't change
- You're working with a template where line positions are consistent

**Use Relative Positioning (`replace [+1,+3]`) when:**
- Creating portable templates that work in multiple locations
- The button might be moved around in the document
- You want content replacement to stay relative to the button

**Use Cursor Positioning (`replace [cursor]`) when:**
- You want interactive, dynamic line removal based on where your cursor is
- Working with ad-hoc editing workflows where line numbers aren't predictable
- Creating utilities for content cleanup where users select lines by cursor position
- Building editing tools that respond to user cursor placement

### Planning Your Replace Strategy
- **Identify stable sections**: Replace content that changes regularly
- **Preserve structure**: Keep headers and structure intact
- **Use templates**: Combine replace with templates for consistent updates
- **Choose positioning wisely**: Use relative for portable templates, absolute for fixed locations
- **Test positioning**: Verify your replace ranges target the correct content

### Content Organization
- **Dedicated sections**: Create sections specifically for replaced content
- **Clear boundaries**: Use headers or separators to mark replaceable areas
- **Consistent formatting**: Maintain consistent line structure for reliable replacement
- **Relative-friendly structure**: When using relative positioning, maintain consistent spacing around buttons

Replace mutations provide precise control over content updates, enabling sophisticated workflows where specific sections of your notes can be dynamically refreshed while preserving the surrounding context and structure.
