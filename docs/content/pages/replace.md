---
title: Replace Mutation
permalink: /usage/mutations/replace.html
eleventyNavigation:
  order: 10
  key: replace
  parent: mutations
  title: "Replace Mutations"
---

**Replace mutations** let you remove specific lines from your note when a button is clicked. This is perfect for updating dynamic content, replacing outdated information, or clearing sections that will be regenerated by templates.

## Basic Replace Functionality

### Replace Specific Lines
Use `replace [startLine, endLine]` to remove lines when the button is clicked:

<pre>
Status: Unknown
Progress: 0%

```button
name Update Status  
type line(1) text
action Status: Complete
replace [1,2]
```
^button-update-status
</pre>

This will:
1. Remove lines 1-2 ("Status: Unknown" and "Progress: 0%")
2. Insert "Status: Complete" at line 1

## Replace with Template Buttons

### Update Weather Section
<pre>
## Weather
Current: Unknown
Forecast: Unknown
Last Updated: Never

```button
name Update Weather
type prepend template
action Weather Template
replace [2,4]
```
^button-weather
</pre>

This replaces the weather data (lines 2-4) with fresh content from the Weather Template.

### Replace Meeting Notes
<pre>
# Meeting Notes
Attendees: TBD
Topics: TBD
Action Items: TBD

```button
name Load Meeting Template
type prepend template  
action Meeting Template
replace [2,4]
```
^button-meeting-template
</pre>

## Replace with Text Buttons

### Update Status Line
<pre>
Project Status: Planning

```button
name Mark In Progress
type line(1) text
action Project Status: In Progress
replace [1,1]
```
^button-in-progress
</pre>

### Replace Task List
<pre>
## Today's Tasks
- [ ] Old task 1
- [ ] Old task 2  
- [ ] Old task 3

```button
name New Task List
type append text
action ## Today's Tasks
- [ ] Review emails
- [ ] Team meeting
- [ ] Code review
replace [2,4]
```
^button-new-tasks
</pre>

## Dynamic Replace with [Templater](/usage/templater)

### Update Timestamp Section
<pre>
Last Modified: Never
Current Time: Unknown

```button
name Update Timestamp
type line(1) text
action Last Modified: <% tp.date.now("YYYY-MM-DD HH:mm") %>
replace [1,2]
templater true
```
^button-timestamp
</pre>

### Replace Daily Planning
<pre>
# Daily Plan - Date
## Goals
- TBD

## Schedule  
- TBD

```button
name Generate Today's Plan
type prepend text
action # Daily Plan - <% tp.date.now("YYYY-MM-DD") %>
## Goals
- [ ] Complete project milestone
- [ ] Review team feedback

## Schedule
- 09:00 Team standup
- 10:30 Deep work session
- 14:00 Client meeting

replace [1,6]
templater true
```
^button-daily-plan
</pre>

## Advanced Replace Patterns

### Replace Multiple Sections
<pre>
## Project Info
Name: TBD
Status: Unknown
Owner: Unassigned

## Timeline
Start: TBD
End: TBD
Milestones: None

```button
name Initialize Project
type prepend template
action Project Init Template  
replace [2,4]
```
^button-init-project

```button
name Set Timeline
type line(7) template
action Timeline Template
replace [7,9]
```
^button-set-timeline
</pre>

### Conditional Replace
<pre>
Current Mode: Development

```button
name Switch to Production
type line(1) text
action Current Mode: Production
replace [1,1]
```
^button-production

```button  
name Switch to Development
type line(1) text
action Current Mode: Development
replace [1,1]
```
^button-development
</pre>

### Progressive Updates
<pre>
Setup Progress:
- [ ] Step 1: Planning
- [ ] Step 2: Design
- [ ] Step 3: Implementation

```button
name Complete Step 1
type line(2) text
action - [x] Step 1: Planning ✅
replace [2,2]
```
^button-step1

```button
name Complete Step 2  
type line(3) text
action - [x] Step 2: Design ✅
replace [3,3]
```
^button-step2

```button
name Complete Step 3
type line(4) text
action - [x] Step 3: Implementation ✅
replace [4,4]  
```
^button-step3
</pre>

## Replace with Chain Buttons

Combine replace functionality with [Chain Buttons](/usage/types/chain):

<pre>
## Dashboard
Status: Loading...
Last Update: Never
Notes: None

```button
name Refresh Dashboard
type chain
actions [
  {"type": "line(2) text", "action": "Status: Updated ✅"},
  {"type": "line(3) text", "action": "Last Update: <% tp.date.now('HH:mm') %>"},
  {"type": "line(4) text", "action": "Notes: Dashboard refreshed"}
]
replace [2,4]
templater true
```
^button-refresh
</pre>

## Replace Line Counting

### How Line Numbers Work
- Lines are counted from the top of the note starting with 1
- Empty lines count as lines
- The line containing the button codeblock and its ID count as lines
- Headers, bullet points, and all text count as individual lines

### Example with Line Numbers
<pre>
1  # My Note
2  
3  Status: Unknown        ← Line 3
4  Progress: 0%          ← Line 4  
5  Last Check: Never     ← Line 5
6
7  ```button
8  name Update All
9  type prepend text
10 action Status: Complete
11 Progress: 100%
12 Last Check: <% tp.date.now() %>
13 replace [3,5]
14 templater true
15 ```
16 ^button-update
</pre>

## Replace Best Practices

### Planning Your Replace Strategy
- **Identify stable sections**: Replace content that changes regularly
- **Preserve structure**: Keep headers and structure intact
- **Use templates**: Combine replace with templates for consistent updates
- **Test line numbers**: Count carefully to avoid replacing wrong content

### Content Organization
- **Dedicated sections**: Create sections specifically for replaced content
- **Clear boundaries**: Use headers or separators to mark replaceable areas
- **Consistent formatting**: Maintain consistent line structure for reliable replacement

### Error Prevention
- **Count twice**: Double-check line numbers before deployment
- **Use comments**: Add invisible comments to mark line boundaries
- **Test incrementally**: Start with small replace ranges and expand

## Common Replace Use Cases

### Status Dashboards
- Project status updates
- Task completion tracking  
- System health monitoring
- Progress indicators

### Dynamic Content
- Weather information
- Date/time stamps
- Calculated values
- External data integration

### Configuration Management
- Settings updates
- Environment switching
- Feature flags
- Parameter adjustment

## Troubleshooting Replace

**Wrong lines replaced**: Verify line counting - empty lines and button blocks count as lines.

**Replace not working**: Check that the line numbers exist and are within the note bounds.

**Content corruption**: Always test replace operations on copies first.

**Line numbers change**: When content is added/removed above your replace section, line numbers shift.

Replace mutations provide precise control over content updates, enabling sophisticated workflows where specific sections of your notes can be dynamically refreshed while preserving the surrounding context and structure.
